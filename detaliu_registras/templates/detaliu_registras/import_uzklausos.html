{% extends "base.html" %}
{% block title %}CSV importas{% endblock %}
{% block content %}
<div class="container">
  {% include "snippets/messages.html" %}

  <h1>CSV importas</h1>
  <p>Įkelk užklausų CSV. Minimalūs stulpeliai: <code>klientas, projektas, detales_pavadinimas, brezinio_nr</code>. Papildomi: <code>metalas, svoris_kg, plotas_m2, data</code>.</p>

  <form method="post" enctype="multipart/form-data" class="form">
    {% csrf_token %}
    <div class="grid">
      <div>{{ form.failas.label_tag }} {{ form.failas }}</div>
      <div>{{ form.encoding.label_tag }} {{ form.encoding }}</div>
      <div>{{ form.delimiter.label_tag }} {{ form.delimiter }}</div>
      <div>{{ form.decimal_comma.label_tag }} {{ form.decimal_comma }}</div>
      <div>{{ form.create_missing.label_tag }} {{ form.create_missing }}</div>
      <div>{{ form.dry_run.label_tag }} {{ form.dry_run }}</div>
    </div>
    <button class="btn btn-primary" type="submit">Įkelti</button>
  </form>

  <h3>Pavyzdinis CSV</h3>
  <pre style="background:#f9fafb;border:1px solid #eee;padding:10px;border-radius:6px;overflow:auto;">
klientas;projektas;detales_pavadinimas;brezinio_nr;metalas;svoris_kg;plotas_m2;data
UAB Metalas;Sparnai;Laikiklis A;BR-001;Plienas S235;1.25;0.34;2024-05-10
UAB Metalas;Sparnai;Laikiklis B;BR-002;Aluminium 6061;0.60;0.12;2024-06-01
  </pre>
</div>

<style>
.container { max-width: 1000px; margin: 0 auto; padding: 0 16px; }
.grid { display:grid; grid-template-columns: repeat(2, minmax(0,1fr)); gap: 12px; margin: 12px 0; }
.form input[type="file"] { display:block; }
.btn { padding:6px 10px; border:1px solid #d1d5db; border-radius:6px; background:#f9fafb; text-decoration:none; color:#111827; }
.btn-primary { background:#2563eb; color:#fff; border-color:#2563eb; }
</style>
{% endblock %}
